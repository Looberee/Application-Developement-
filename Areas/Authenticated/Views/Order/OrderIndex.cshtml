@model List<WebApplication123.Models.OrderDetail>
@{
	Layout = "_Layout2";
}
<h1>Customer Ordered</h1>
<table class="table">
	<thead>
		<tr>
			<th>OrderId</th>
			<th>Customer Name</th>
			<th>OrderDetailId</th>
			<th>Book Name</th>
			<th>Ordered Quantity</th>
			<th>Total Price</th>
		</tr>
	</thead>
	<tbody>
		@{decimal total_cart = 0;
		var index = 1;
		}
		@foreach (var item in Model)
		{
			if (index != item.Order.OrderId)
			{
				<tr>
					<td colspan="6" class="justify-content-center text-center" style="word-spacing: 10px; font-weight: bold">Total: @total_cart</td>
				</tr>
				index = item.Order.OrderId;
			}
			<tr>
				<td>@item.Order.OrderId</td>
				<td>@item.Order.User.Name</td>
				<td>@item.OrderDetailId</td>
				<td>@item.Book.Name</td>
				<td>@item.Quantity</td>
				<td>@item.Total</td>
				<td></td>
			</tr>
			total_cart += item.Total;
		}

	</tbody>
</table>
<a class="btn btn-primary"
   asp-controller="Order"
   asp-action="DeleteAllOrders">
	CheckOut
</a>